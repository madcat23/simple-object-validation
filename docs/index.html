<!DOCTYPE html>
<html>
  <head>
    <title>simple object validation API</title>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <meta content="width=device-width, initial-scale=1.0, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/xcode.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="js/scripts.js"></script>
  </head>
  <body>
    <div class="nav-side-menu">
      <div class="brand">
        <img src="logo.png" width="80" height="80" />
        <p style="font-weight: bold;">simple object validation</p>
        <p><strong>API Docs</strong></p>
      </div>
      <i class="fa fa-bars fa-2x toggle-btn" data-toggle="collapse" data-target="#menu-content"></i>
      <div class="menu-list">
        <div id="menu-content" class="menu-content collapse out">
          <a href="#examples" class="headline"><i class="fa fa-code"></i> Examples</a>
          <a href="#simple-registration-form">Simple registration form</a>

          <a href="#validators" class="headline"><i class="fa fa-puzzle-piece"></i> Validators</a>
          <a href="#is-required">isRequired</a>
          <a href="#is-email">isEmail</a>
          <a href="#is-alphanumeric">isAlphanumeric</a>
          <a href="#is-numeric">isNumeric</a>
          <a href="#is-integer">isInteger</a>
          <a href="#is-between">isBetween</a>
          <a href="#is-greater-than-or-equal">isGreaterThanOrEqual</a>
          <a href="#is-less-than-or-equal">isLessThanOrEqual</a>
          
          <a href="#core" class="headline"><i class="fa fa-cube"></i> Core API</a>
          <a href="#validator">validator</a>
          <a href="#assemble">assemble</a>
          <a href="#chain">chain</a>
          <a href="#each">each</a>
          <a href="#match">match</a>
        </div>
      </div>
    </div>
    <div class="content">

<!-- BEGIN CONTENT -->

<h1 id="examples" class="top">Examples</h1>

<h2 id="simple-registration-form">Simple registration form</h2>

<pre><code class="javascript">import { assemble, chain, isRequired, isInteger, isGreaterThanOrEqual, isEmail } from 'simple-object-validation'

const isValidCustomer = assemble({
  name: isRequired('Name'),
  age: chain([
    isRequired,
    isInteger,
    isGreaterThanOrEqual(18)
  ])('Age'),
  email: chain([
    isRequired,
    isEmail,
  ])('Email'),
})

isValidCustomer({
  age: 17,
  email: 'foo'
})
// { name: 'Name is required.', age: 'Age must be greater than or equal 18.', email: 'Email must be a valid email address.' }

isValidCustomer({
  name: 'Mathew',
  age: 18,
  email: 'mathew@email.com'
})
// {}
</code></pre>


<h1 id="validators">Validators</h1>

<h2 id="is-required">isRequired</h2>

<p>...</p>

<h2 id="is-email">isEmail</h2>

<p>...</p>

<h2 id="is-alphanumeric">isAlphanumeric</h2>

<p>...</p>

<h2 id="is-numeric">isNumeric</h2>

<p>...</p>

<h2 id="is-integer">isInteger</h2>

<p>...</p>

<h2 id="is-between">isBetween</h2>

<p>...</p>

<h2 id="is-greater-than-or-equal">isGreaterThanOrEqual</h2>

<p>...</p>

<h2 id="is-less-than-or-equal">isLessThanOrEqual</h2>

<p>...</p>


<h1 id="core">Core API</h1>

<h2 id="validator">validator</h2>
<h3>Definition</h3>
<div class="definition">
  (checkFunction: <em>(value: <em>any</em>, param: <em>any</em>) => boolean</em>, messageCreator: <em>(param: <em>any</em>, name: <em>string</em>, value: <em>any</em>) => string</em>)
  <br />=> (param: <em>any</em>) => (name: <em>string</em>) => (value: <em>any</em>) => undefined | string
</div>
<p>
  Okay, okay! This looks difficult at first sight, definitely. But it totally makes sense. This is how it works:
</p>
<p>
  Let's start with line two of the definition which describes the validator that is created using validator().
  Generally in simple-object-validation every validator first takes a <strong>configuration parameter</strong> to further specify its behaviour. This is going to return another function that waits for being called with the <strong>field name</strong>. That call however will return a function that finally wants to be called with a <strong>value</strong>. It will either return <strong>undefined</strong> or an <strong>error message</strong>.
</p>
<p>
  BUT: You don't have to care about that at all. You only have to provide two functions (as you can see in line one). The first function (checkFunction) basically provides the validation logic while the second function (messageCreator) creates an error message based on the variables that are passed to the validator during the configuration process.
</p>
<p>
  Just look at this example:
</p>
<pre><code class="javascript">import { validator } from 'simple-object-validation'

const hasMinLength = validator(
  (value, param) => value.length >= param,
  (param, name, value) => `${name} must have a minimum length of ${param}!`
)

hasMinLength(4)('My string')('foo') // 'My string must have a minimum length of 4!'
hasMinLength(4)('My string')('a longer string') // undefined
</code></pre>
<h3>Validator without configuration parameter</h3>
<p>
  But a configuration does not always make sense. In some cases you could just leave it away because it's optional or maybe you don't need it at all (e. g. isRequired). So if you call the validator directly with a field name instead this will be detected by the validator and it is going to behave like if it had been parameterized (with undefined!) before. You can see that in the following example:
</p>
<pre><code class="javascript">import { validator } from 'simple-object-validation'

const isMeaningOfLife = validator(
  (value, param) => value === 42,
  (param, name, value) => `${name} must be the meaning of life!`
)

isMeaningOfLife('Magic Number')(3.14) // 'Magic Number must be the meaning of life'
isMeaningOfLife('Magic Number')(42) // undefined
</code></pre>
<p>
  As you can see, no configuration parameter was passed to the validator. Instead it was called directly with the field name. Like this you can have validators with parameters and ones without next to each other like in <a href="#simple-registration-form">this example</a>.
</p>
<h3 style="color: #ee6666;">Important note about strings as configuration parameters</h3>
<p>
  The validator detects a deliberately missing configuration parameter by testing for a <strong>string</strong>. So in this situation a string is always interpreted as the field name. If you want to use a string as a parameter you'll have to configure the validator like this:
</p>
<pre><code class="javascript">import { validator } from 'simple-object-validation'
  
const isEqualToString = validator(
  (value, param) => value === param,
  {
    expectParameter: true,
    messageCreator: (param, name, value) => `${name} must be equal to ${param}!`
  }
)

isEqualToString('foo')('Foobar')('bar') // 'Foobar must be equal to foo'
isEqualToString('foo')('Foobar')('foo') // undefined
</code></pre>
<p>
  So there is one little disadvantage here: If you want to use strings as parameters you cannot make them optional.
</p>

<h2 id="assemble">assemble</h2>

<p>This function is used to combine validators in order to validate whole objects.</p>
<p>...</p>

<h2 id="chain">chain</h2>

<p>If there are several validators that need to be applied to a value, use the chain function.</p>
<p>...</p>

<h2 id="each">each</h2>

<p>...</p>

<h2 id="match">match</h2>

<p>...</p>


<!-- END CONTENT -->

    </div>

    <script type="text/javascript">
     
    </script>
  </body>
</html>